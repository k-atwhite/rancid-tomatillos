(this["webpackJsonprancid-tomatillos"]=this["webpackJsonprancid-tomatillos"]||[]).push([[0],{24:function(e,t,a){},25:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var s=a(1),i=a(18),r=a.n(i),n=(a(24),a(8)),c=a(9),o=a(12),l=a(11),d=(a(25),a(10)),h=a(0),u=function(e){var t=e.poster,a=e.title,s=e.id,i=e.averageRating;return Object(h.jsxs)("section",{className:"entire-card",children:[Object(h.jsx)(d.b,{to:"/movies/".concat(s),children:Object(h.jsx)("img",{className:"movie-card",src:t,alt:"movie poster"})}),Object(h.jsxs)("div",{className:"title-rating",children:[Object(h.jsx)("p",{className:"title",children:a}),Object(h.jsxs)("p",{className:"avg-rating",children:[i,"\u2b50"]})]})]})},v=(a(35),function(e){var t=e.movies.map((function(e){return Object(h.jsx)(u,{movieObj:e,poster:e.poster_path,title:e.title,backdrop:e.backdrop_path,releaseDate:e.release_date,overview:e.overview,averageRating:e.average_rating.toFixed(1),genre:e.genres,budget:e.budget,revenue:e.revenue,runtime:e.runtime,tagline:e.tagline,id:e.id},e.id)}));return Object(h.jsx)("div",{className:"all-movies",children:t})}),m=(a(36),function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={displayedMovie:{},error:""},s}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.id,fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies/".concat(e)).then((function(e){return e.json()}))).then((function(e){return t.setState({displayedMovie:e.movie})})).catch((function(e){return t.setState({error:"Unable to load Movie-".concat(e)})}))}},{key:"makeMoneyReadable",value:function(e){var t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return"$0.00"===t?"unavailable":t}},{key:"commaGenres",value:function(e){if(e)return e.join(", ")}},{key:"render",value:function(){return this.state.error?Object(h.jsx)("h2",{className:"error-message",children:this.state.error}):this.state.error||this.state.displayedMovie?Object(h.jsx)("div",{className:".movie-details-card",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("img",{src:this.state.displayedMovie.poster_path,alt:"moviePoster",className:"cover"}),Object(h.jsx)("div",{className:"hero",style:{backgroundImage:"url(".concat(this.state.displayedMovie.backdrop_path,")")},children:Object(h.jsxs)("div",{className:"details",children:[Object(h.jsx)("div",{className:"title1",children:this.state.displayedMovie.title}),Object(h.jsx)("div",{className:"title2",children:this.state.displayedMovie.tagline}),Object(h.jsxs)("h4",{className:"movie-rating",children:[" ",parseInt(this.state.displayedMovie.average_rating).toFixed(0),"/10\u2b50"]}),Object(h.jsxs)("p",{className:"runtime",children:[this.state.displayedMovie.runtime," minutes"]})]})}),Object(h.jsxs)("div",{className:"description",children:[Object(h.jsx)("div",{className:"column1",children:Object(h.jsx)("span",{className:"tag",children:this.commaGenres(this.state.displayedMovie.genres)})}),Object(h.jsxs)("div",{className:"column2",children:[Object(h.jsx)("p",{children:this.state.displayedMovie.overview}),Object(h.jsxs)("p",{className:"release-date",children:["Release Date: ",this.state.displayedMovie.release_date]}),Object(h.jsxs)("p",{className:"budget",children:["Budget:"," ",this.makeMoneyReadable(this.state.displayedMovie.budget)]}),Object(h.jsxs)("p",{className:"revenue",children:["Revenue:"," ",this.makeMoneyReadable(this.state.displayedMovie.revenue)]})]})]})]})}):Object(h.jsx)("h2",{className:"loading-message",children:"\ud83c\udf7f Movie Loading \ud83c\udf7f"})}}]),a}(s.Component)),j=(a(37),a(2)),b=(a(38),function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).handleSearch=function(t){e.setState({searchValue:t.target.value}),e.props.filterMovies(e.state.searchValue)},e.clearSearchValue=function(t){e.setState({searchValue:""}),e.props.clearFilteredMovies()},e.state={searchValue:""},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return Object(h.jsx)("div",{className:"form-wrapper",children:Object(h.jsxs)("form",{children:[Object(h.jsx)("input",{className:"input",type:"text",id:"movie-search",placeholder:"search movies",name:"searchValue",value:this.state.searchValue,onChange:function(t){return e.handleSearch(t)},onFocus:function(t){return e.clearSearchValue(t)}}),Object(h.jsx)("i",{className:"fa fa-times","aria-hidden":"true",onClick:function(t){return e.clearSearchValue(t)}})]})})}}]),a}(s.Component)),p=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).filterMovies=function(t){var a=e.state.movies.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())}));e.setState({filteredMovies:a},(function(){a.length||e.setState({searchError:"We don't seem to have any movies matching that title..."})}))},e.clearFilteredMovies=function(){e.setState({filteredMovies:[],searchError:""})},e.state={movies:[],filteredMovies:[],error:"",searchError:""},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies").then((function(e){return e.json()})).then((function(t){return e.setState({movies:t.movies})})).catch((function(){return e.setState({error:"Something went wrong on our end, please try again later"})}))}},{key:"chooseMovieData",value:function(){return this.state.filteredMovies.length?this.state.filteredMovies:this.state.movies}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"app",children:[Object(h.jsxs)("nav",{className:"navbar",children:[Object(h.jsx)(d.b,{to:"/",className:"header-button",children:Object(h.jsx)("h1",{className:"title",children:"Rancid Tomatillos"})}),Object(h.jsx)(b,{className:"searchbar",filterMovies:this.filterMovies,clearFilteredMovies:this.clearFilteredMovies})]}),Object(h.jsxs)("main",{className:"main-content",children:[this.state.error&&Object(h.jsx)("h2",{children:this.state.error}),!this.state.movies&&Object(h.jsx)("h2",{className:"loading-message",children:"\ud83c\udf7f Movies Loading \ud83c\udf7f"}),this.state.searchError&&Object(h.jsxs)("h2",{className:"error-message",children:[" $",this.state.searchError,"`"]}),Object(h.jsx)(j.a,{exact:!0,path:"/",render:function(){return Object(h.jsx)(v,{movies:e.chooseMovieData()})}}),Object(h.jsx)(j.a,{path:"/movies/:movieId",render:function(e){var t=e.match;return Object(h.jsx)(m,{id:parseInt(t.params.movieId)})}})]})]})}}]),a}(s.Component),f=Object(h.jsxs)(d.a,{children:[" ",Object(h.jsx)(p,{})," "]});r.a.render(f,document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.49085440.chunk.js.map